<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quantum Fox</title>

  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- THREE & TWEEN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/23.1.1/tween.umd.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>

<body class="bg-black text-white overflow-hidden">

  <!-- ============================= -->
  <!-- MAIN GAME CANVAS -->
  <!-- ============================= -->
  <div id="game-container" class="w-full h-full absolute top-0 left-0"></div>

  <!-- ============================= -->
  <!-- IN-GAME HUD -->
  <!-- ============================= -->
  <div id="hud" class="absolute top-2 left-2 space-y-1 pointer-events-none z-20">
    <div id="label-score" class="px-3 py-1 bg-black/60 rounded">Score: 0</div>
    <div id="label-highscore" class="px-3 py-1 bg-black/60 rounded">High Score: 0</div>
    <div id="label-orbs" class="px-3 py-1 bg-black/60 rounded">Orbs: 0</div>
  </div>

  <!-- ============================= -->
  <!-- MAIN MENU SCREEN -->
  <!-- ============================= -->
  <div id="screen-menu"
       class="absolute inset-0 bg-black/80 flex flex-col items-center justify-center space-y-6 z-30">

    <h1 class="text-5xl font-bold">Quantum Fox</h1>

    <button id="btn-start"
            class="px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded text-xl">
      START GAME
    </button>

    <button id="btn-leaderboard"
            class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded">
      LEADERBOARD
    </button>

    <button id="btn-trails"
            class="px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded">
      TRAIL SHOP
    </button>

    <p class="text-gray-300 pt-4 text-center">
      Controls:<br>
      A / D or Arrow Keys to Switch Lanes<br>
      Tap left/right on mobile
    </p>
  </div>

  <!-- ============================= -->
  <!-- GAME OVER SCREEN -->
  <!-- ============================= -->
  <div id="screen-gameover"
       class="absolute inset-0 bg-black/80 hidden flex-col items-center justify-center space-y-4 z-30">

    <h2 class="text-4xl font-bold">GAME OVER</h2>

    <div class="text-2xl">
      Final Score: <span id="label-finalscore">0</span>
    </div>

    <!-- NEW: initials entry for leaderboard -->
    <div id="initials-container"
         class="flex flex-col items-center space-y-2 mt-4 hidden">
      <p class="text-lg">NEW HIGH SCORE! Enter your initials (5 letters):</p>
      <input
        id="initials-input"
        type="text"
        maxlength="5"
        class="text-black px-3 py-1 rounded text-center tracking-widest uppercase"
        placeholder="AAAAA"
        autocomplete="off"
      />
      <button id="btn-submit-score"
              class="px-4 py-2 bg-yellow-500 hover:bg-yellow-600 rounded">
        SUBMIT SCORE
      </button>
    </div>

    <button id="btn-restart"
            class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded text-xl">
      RESTART
    </button>

    <!-- NOTE: different id from menu button -->
    <button id="btn-leaderboard-2"
            class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded">
      LEADERBOARD
    </button>
  </div>

  <!-- ============================= -->
  <!-- LEADERBOARD SCREEN -->
  <!-- ============================= -->
  <div id="screen-leaderboard"
       class="absolute inset-0 bg-black/90 hidden flex flex-col items-center p-6 z-40">

    <button id="btn-close-leaderboard"
            class="self-end px-4 py-2 bg-red-600 hover:bg-red-700 rounded mb-4">
      CLOSE
    </button>

    <h2 class="text-3xl font-bold mb-4">TOP 100 PLAYERS</h2>

    <div id="leaderboard-list"
         class="w-full max-w-xl bg-black/40 p-3 rounded overflow-y-auto space-y-2"
         style="height: 70vh;">
      Loading...
    </div>
  </div>

  <!-- ============================= -->
  <!-- TRAIL SHOP SCREEN -->
  <!-- ============================= -->
  <div id="screen-trails"
       class="absolute inset-0 bg-black/90 hidden flex flex-col items-center p-6 z-40">

    <button id="btn-close-trails"
            class="self-end px-4 py-2 bg-red-600 hover:bg-red-700 rounded mb-4">
      CLOSE
    </button>

    <h2 class="text-3xl font-bold mb-4">Trail Shop</h2>
    <p class="mb-2 text-gray-400">Unlock and equip different trail effects.</p>

    <div id="trail-list"
         class="w-full max-w-xl bg-black/40 p-4 rounded overflow-y-auto space-y-4"
         style="height: 70vh;">
      <!-- trails inserted dynamically -->
    </div>

  </div>

  <!-- ============================= -->
  <!-- JAVASCRIPT ENGINE -->
  <!-- ============================= -->
  <script type="module" src="src/game.js"></script>

</body>
</html>
